"use strict";var _typeof23="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof22="function"==typeof Symbol&&"symbol"==_typeof23(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof23(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof23(t)},_typeof21="function"==typeof Symbol&&"symbol"==_typeof22(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof22(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof22(t)},_typeof20="function"==typeof Symbol&&"symbol"==_typeof21(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof21(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof21(t)},_typeof19="function"==typeof Symbol&&"symbol"==_typeof20(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof20(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof20(t)},_typeof18="function"==typeof Symbol&&"symbol"==_typeof19(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof19(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof19(t)},_typeof17="function"==typeof Symbol&&"symbol"==_typeof18(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof18(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof18(t)},_typeof16="function"==typeof Symbol&&"symbol"==_typeof17(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof17(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof17(t)},_typeof15="function"==typeof Symbol&&"symbol"==_typeof16(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof16(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof16(t)},_typeof14="function"==typeof Symbol&&"symbol"==_typeof15(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof15(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof15(t)},_typeof13="function"==typeof Symbol&&"symbol"==_typeof14(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof14(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof14(t)},_typeof12="function"==typeof Symbol&&"symbol"==_typeof13(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof13(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof13(t)},_typeof11="function"==typeof Symbol&&"symbol"==_typeof12(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof12(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof12(t)},_typeof10="function"==typeof Symbol&&"symbol"==_typeof11(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof11(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof11(t)},_typeof9="function"==typeof Symbol&&"symbol"==_typeof10(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof10(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof10(t)},_typeof8="function"==typeof Symbol&&"symbol"==_typeof9(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof9(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof9(t)},_typeof7="function"==typeof Symbol&&"symbol"==_typeof8(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof8(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof8(t)},_typeof6="function"==typeof Symbol&&"symbol"==_typeof7(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof7(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof7(t)},_typeof5="function"==typeof Symbol&&"symbol"==_typeof6(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof6(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof6(t)},_typeof4="function"==typeof Symbol&&"symbol"==_typeof5(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof5(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof5(t)},_typeof3="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof4(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof4(t)},_typeof2="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof3(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof3(t)},_typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof2(t)};!function(t,o,e,n){function i(o,e){this.element=o,this.options=t.extend({},r,e),this._defaults=r,this._name=s,this.init()}var s="stellar",r={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(t){t.hide()},showElement:function(t){t.show()}},f={scroll:{getLeft:function(t){return t.scrollLeft()},setLeft:function(t,o){t.scrollLeft(o)},getTop:function(t){return t.scrollTop()},setTop:function(t,o){t.scrollTop(o)}},position:{getLeft:function(t){return-1*parseInt(t.css("left"),10)},getTop:function(t){return-1*parseInt(t.css("top"),10)}},margin:{getLeft:function(t){return-1*parseInt(t.css("margin-left"),10)},getTop:function(t){return-1*parseInt(t.css("margin-top"),10)}},transform:{getLeft:function(t){var o=getComputedStyle(t[0])[a];return"none"!==o?-1*parseInt(o.match(/(-?[0-9]+)/g)[4],10):0},getTop:function(t){var o=getComputedStyle(t[0])[a];return"none"!==o?-1*parseInt(o.match(/(-?[0-9]+)/g)[5],10):0}}},l={position:{setLeft:function(t,o){t.css("left",o)},setTop:function(t,o){t.css("top",o)}},transform:{setPosition:function(t,o,e,n,i){t[0].style[a]="translate3d("+(o-e)+"px, "+(n-i)+"px, 0)"}}},a=function(){var o,e=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,n=t("script")[0].style,i="";for(o in n)if(e.test(o)){i=o.match(e)[0];break}return"WebkitOpacity"in n&&(i="Webkit"),"KhtmlOpacity"in n&&(i="Khtml"),function(t){return i+(i.length>0?t.charAt(0).toUpperCase()+t.slice(1):t)}}()("transform"),p=void 0!==t("<div />",{style:"background:#fff"}).css("background-position-x"),c=p?function(t,o,e){t.css({"background-position-x":o,"background-position-y":e})}:function(t,o,e){t.css("background-position",o+" "+e)},u=p?function(t){return[t.css("background-position-x"),t.css("background-position-y")]}:function(t){return t.css("background-position").split(" ")},y=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};i.prototype={init:function(){this.options.name=s+"_"+Math.floor(1e9*Math.random()),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),"scroll"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===e.body&&(this.element=o),this.$scrollElement=t(this.element),this.$element=this.element===o?t("body"):this.$scrollElement,this.$viewportElement=void 0!==this.options.viewportElement?t(this.options.viewportElement):this.$scrollElement[0]===o||"scroll"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var t=this,o=f[t.options.scrollProperty];this._getScrollLeft=function(){return o.getLeft(t.$scrollElement)},this._getScrollTop=function(){return o.getTop(t.$scrollElement)}},_defineSetters:function(){var o=this,e=f[o.options.scrollProperty],n=l[o.options.positionProperty],i=e.setLeft,s=e.setTop;this._setScrollLeft="function"==typeof i?function(t){i(o.$scrollElement,t)}:t.noop,this._setScrollTop="function"==typeof s?function(t){s(o.$scrollElement,t)}:t.noop,this._setPosition=n.setPosition||function(t,e,i,s,r){o.options.horizontalScrolling&&n.setLeft(t,e,i),o.options.verticalScrolling&&n.setTop(t,s,r)}},_handleWindowLoadAndResize:function(){var e=this,n=t(o);e.options.responsive&&n.bind("load."+this.name,function(){e.refresh()}),n.bind("resize."+this.name,function(){e._detectViewport(),e.options.responsive&&e.refresh()})},refresh:function(e){var n=this,i=n._getScrollLeft(),s=n._getScrollTop();e&&e.firstLoad||this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),e&&e.firstLoad&&/WebKit/.test(navigator.userAgent)&&t(o).load(function(){var t=n._getScrollLeft(),o=n._getScrollTop();n._setScrollLeft(t+1),n._setScrollTop(o+1),n._setScrollLeft(t),n._setScrollTop(o)}),this._setScrollLeft(i),this._setScrollTop(s)},_detectViewport:function(){var t=this.$viewportElement.offset(),o=null!==t&&void 0!==t;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=o?t.top:0,this.viewportOffsetLeft=o?t.left:0},_findParticles:function(){var o=this;if(this._getScrollLeft(),this._getScrollTop(),void 0!==this.particles)for(var e=this.particles.length-1;e>=0;e--)this.particles[e].$element.data("stellar-elementIsActive",void 0);this.particles=[],this.options.parallaxElements&&this.$element.find("[data-stellar-ratio]").each(function(e){var n,i,s,r,f,l,a,p,c,u=t(this),y=0,d=0,m=0,h=0;if(u.data("stellar-elementIsActive")){if(u.data("stellar-elementIsActive")!==this)return}else u.data("stellar-elementIsActive",this);o.options.showElement(u),u.data("stellar-startingLeft")?(u.css("left",u.data("stellar-startingLeft")),u.css("top",u.data("stellar-startingTop"))):(u.data("stellar-startingLeft",u.css("left")),u.data("stellar-startingTop",u.css("top"))),s=u.position().left,r=u.position().top,f="auto"===u.css("margin-left")?0:parseInt(u.css("margin-left"),10),l="auto"===u.css("margin-top")?0:parseInt(u.css("margin-top"),10),p=u.offset().left-f,c=u.offset().top-l,u.parents().each(function(){var o=t(this);if(!0===o.data("stellar-offset-parent"))return y=m,d=h,a=o,!1;m+=o.position().left,h+=o.position().top}),n=void 0!==u.data("stellar-horizontal-offset")?u.data("stellar-horizontal-offset"):void 0!==a&&void 0!==a.data("stellar-horizontal-offset")?a.data("stellar-horizontal-offset"):o.horizontalOffset,i=void 0!==u.data("stellar-vertical-offset")?u.data("stellar-vertical-offset"):void 0!==a&&void 0!==a.data("stellar-vertical-offset")?a.data("stellar-vertical-offset"):o.verticalOffset,o.particles.push({$element:u,$offsetParent:a,isFixed:"fixed"===u.css("position"),horizontalOffset:n,verticalOffset:i,startingPositionLeft:s,startingPositionTop:r,startingOffsetLeft:p,startingOffsetTop:c,parentOffsetLeft:y,parentOffsetTop:d,stellarRatio:void 0!==u.data("stellar-ratio")?u.data("stellar-ratio"):1,width:u.outerWidth(!0),height:u.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var o,e=this,n=this._getScrollLeft(),i=this._getScrollTop();this.backgrounds=[],this.options.parallaxBackgrounds&&(o=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(o=o.add(this.$element)),o.each(function(){var o,s,r,f,l,a,p,y=t(this),d=u(y),m=0,h=0,b=0,S=0;if(y.data("stellar-backgroundIsActive")){if(y.data("stellar-backgroundIsActive")!==this)return}else y.data("stellar-backgroundIsActive",this);y.data("stellar-backgroundStartingLeft")?c(y,y.data("stellar-backgroundStartingLeft"),y.data("stellar-backgroundStartingTop")):(y.data("stellar-backgroundStartingLeft",d[0]),y.data("stellar-backgroundStartingTop",d[1])),r="auto"===y.css("margin-left")?0:parseInt(y.css("margin-left"),10),f="auto"===y.css("margin-top")?0:parseInt(y.css("margin-top"),10),l=y.offset().left-r-n,a=y.offset().top-f-i,y.parents().each(function(){var o=t(this);if(!0===o.data("stellar-offset-parent"))return m=b,h=S,p=o,!1;b+=o.position().left,S+=o.position().top}),o=void 0!==y.data("stellar-horizontal-offset")?y.data("stellar-horizontal-offset"):void 0!==p&&void 0!==p.data("stellar-horizontal-offset")?p.data("stellar-horizontal-offset"):e.horizontalOffset,s=void 0!==y.data("stellar-vertical-offset")?y.data("stellar-vertical-offset"):void 0!==p&&void 0!==p.data("stellar-vertical-offset")?p.data("stellar-vertical-offset"):e.verticalOffset,e.backgrounds.push({$element:y,$offsetParent:p,isFixed:"fixed"===y.css("background-attachment"),horizontalOffset:o,verticalOffset:s,startingValueLeft:d[0],startingValueTop:d[1],startingBackgroundPositionLeft:isNaN(parseInt(d[0],10))?0:parseInt(d[0],10),startingBackgroundPositionTop:isNaN(parseInt(d[1],10))?0:parseInt(d[1],10),startingPositionLeft:y.position().left,startingPositionTop:y.position().top,startingOffsetLeft:l,startingOffsetTop:a,parentOffsetLeft:m,parentOffsetTop:h,stellarRatio:void 0===y.data("stellar-background-ratio")?1:y.data("stellar-background-ratio")})}))},_reset:function(){var t,o,e,n,i;for(i=this.particles.length-1;i>=0;i--)o=(t=this.particles[i]).$element.data("stellar-startingLeft"),e=t.$element.data("stellar-startingTop"),this._setPosition(t.$element,o,o,e,e),this.options.showElement(t.$element),t.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(i=this.backgrounds.length-1;i>=0;i--)(n=this.backgrounds[i]).$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),c(n.$element,n.startingValueLeft,n.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name),this._animationLoop=t.noop,t(o).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var e=this,n=t(o);n.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name),"function"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),n.bind("resize.horizontal-"+this.name,function(){e.horizontalOffset=e.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,"function"==typeof this.options.verticalOffset?(this.verticalOffset=this.options.verticalOffset(),n.bind("resize.vertical-"+this.name,function(){e.verticalOffset=e.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var t,o,e,n,i,s,r,f,l,a,p=this._getScrollLeft(),u=this._getScrollTop(),y=!0,d=!0;if(this.currentScrollLeft!==p||this.currentScrollTop!==u||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentScrollLeft=p,this.currentScrollTop=u,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,a=this.particles.length-1;a>=0;a--)o=(t=this.particles[a]).isFixed?1:0,this.options.horizontalScrolling?f=(s=(p+t.horizontalOffset+this.viewportOffsetLeft+t.startingPositionLeft-t.startingOffsetLeft+t.parentOffsetLeft)*-(t.stellarRatio+o-1)+t.startingPositionLeft)-t.startingPositionLeft+t.startingOffsetLeft:(s=t.startingPositionLeft,f=t.startingOffsetLeft),this.options.verticalScrolling?l=(r=(u+t.verticalOffset+this.viewportOffsetTop+t.startingPositionTop-t.startingOffsetTop+t.parentOffsetTop)*-(t.stellarRatio+o-1)+t.startingPositionTop)-t.startingPositionTop+t.startingOffsetTop:(r=t.startingPositionTop,l=t.startingOffsetTop),this.options.hideDistantElements&&(d=!this.options.horizontalScrolling||f+t.width>(t.isFixed?0:p)&&f<(t.isFixed?0:p)+this.viewportWidth+this.viewportOffsetLeft,y=!this.options.verticalScrolling||l+t.height>(t.isFixed?0:u)&&l<(t.isFixed?0:u)+this.viewportHeight+this.viewportOffsetTop),d&&y?(t.isHidden&&(this.options.showElement(t.$element),t.isHidden=!1),this._setPosition(t.$element,s,t.startingPositionLeft,r,t.startingPositionTop)):t.isHidden||(this.options.hideElement(t.$element),t.isHidden=!0);for(a=this.backgrounds.length-1;a>=0;a--)o=(e=this.backgrounds[a]).isFixed?0:1,n=this.options.horizontalScrolling?(p+e.horizontalOffset-this.viewportOffsetLeft-e.startingOffsetLeft+e.parentOffsetLeft-e.startingBackgroundPositionLeft)*(o-e.stellarRatio)+"px":e.startingValueLeft,i=this.options.verticalScrolling?(u+e.verticalOffset-this.viewportOffsetTop-e.startingOffsetTop+e.parentOffsetTop-e.startingBackgroundPositionTop)*(o-e.stellarRatio)+"px":e.startingValueTop,c(e.$element,n,i)}},_handleScrollEvent:function(){var t=this,o=!1,e=function(){t._repositionElements(),o=!1},n=function(){o||(y(e),o=!0)};this.$scrollElement.bind("scroll."+this.name,n),n()},_startAnimationLoop:function(){var t=this;this._animationLoop=function(){y(t._animationLoop),t._repositionElements()},this._animationLoop()}},t.fn[s]=function(o){var e=arguments;return void 0===o||"object"===(void 0===o?"undefined":_typeof(o))?this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new i(this,o))}):"string"==typeof o&&"_"!==o[0]&&"init"!==o?this.each(function(){var n=t.data(this,"plugin_"+s);n instanceof i&&"function"==typeof n[o]&&n[o].apply(n,Array.prototype.slice.call(e,1)),"destroy"===o&&t.data(this,"plugin_"+s,null)}):void 0},t[s]=function(e){var n=t(o);return n.stellar.apply(n,Array.prototype.slice.call(arguments,0))},t[s].scrollProperty=f,t[s].positionProperty=l,o.Stellar=i}(jQuery,void 0,document);